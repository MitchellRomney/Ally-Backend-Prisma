generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = "***"
}

model Champion {
  id Int @default(autoincrement()) @id
  version String
  champId String
  name String
  key String
  title String
  blurb String
  infoAttack Int
  infoDefense Int
  infoMagic Int
  infoDifficulty Int
  imageFull String
  imageSprite String
  imageGroup String
  imageX Int
  imageY Int
  imageW Int
  imageH Int
  tags String
  partype String
  statsHP Float
  statsHPPerLevel Float
  statsMP Float
  statsMPPerLevel Float
  statsMoveSpeed Float
  statsArmor Float
  statsArmorPerLevel Float
  statsSpellBlock Float
  statsSpellBlockPerLevel Float
  statsAttackRange Float
  statsHPRegen Float
  statsHPRegenPerLevel Float
  statsMPRegen Float
  statsMPRegenPerLevel Float
  statsCrit Float
  statsCritPerLevel Float
  statsAttackDamage Float
  statsAttackDamagePerLevel Float
  statsAttackSpeed Float
  statsAttackSpeedPerLevel Float
  dateModified DateTime @updatedAt
  dateCreated DateTime @default(now())
}

model Item {
  version String
  itemId Int @default(autoincrement()) @id
  name String
  description String
  colloq String
  plaintext String
  builtInto Item[] @relation(name: "BuildComponents")
  builtFrom Item[] @relation(name: "BuildComponents")
  consumed Boolean
  stacks Int
  depth Int
  consumeOnFull Boolean
  specialRecipe Int
  inStore Boolean
  hideFromAll Boolean
  requiredChampion String
  requiredAlly String
  imageFull String
  imageSprite String
  imageGroup String
  imageX Int
  imageY Int
  imageW Int
  imageH Int
  goldBase Int
  goldPurchasable Boolean
  goldTotal Int
  goldSell Int
  flatHPPoolMod Int
  rFlatHPModPerLevel Int
  flatMPPoolMod Int
  rFlatMPModPerLevel Int
  percentHPPoolMod Int
  percentMPPoolMod Int
  flatHPRegenMod Int
  rFlatHPRegenModPerLevel Int
  percentHPRegenMod Int
  flatMPRegenMod Int
  rFlatMPRegenModPerLevel Int
  percentMPRegenMod Int
  flatArmorMod Int
  rFlatArmorModPerLevel Int
  percentArmorMod Int
  rFlatArmorPenetrationMod Int
  rFlatArmorPenetrationModPerLevel Int
  rPercentArmorPenetrationMod Int
  rPercentArmorPenetrationModPerLevel Int
  flatPhysicalDamageMod Int
  rFlatPhysicalDamageModPerLevel Int
  percentPhysicalDamageMod Int
  flatMagicDamageMod Int
  rFlatMagicDamageModPerLevel Int
  percentMagicDamageMod Int
  flatMovementSpeedMod Int
  rFlatMovementSpeedModPerLevel Int
  percentMovementSpeedMod Int
  rPercentMovementSpeedModPerLevel Int
  flatAttackSpeedMod Int
  percentAttackSpeedMod Int
  rPercentAttackSpeedModPerLevel Int
  rFlatDodgeMod Int
  rFlatDodgeModPerLevel Int
  percentDodgeMod Int
  flatCritChanceMod Int
  rFlatCritChanceModPerLevel Int
  percentCritChanceMod Int
  flatCritDamageMod Int
  rFlatCritDamageModPerLevel Int
  percentCritDamageMod Int
  flatBlockMod Int
  percentBlockMod Int
  flatSpellBlockMod Int
  rFlatSpellBlockModPerLevel Int
  percentSpellBlockMod Int
  flatExpBonus Int
  percentExpBonus Int
  rPercentCooldownMod Int
  rPercentCooldownModPerLevel Int
  rFlatTimeDeadMod Int
  rFlatTimeDeadModPerLevel Int
  rPercentTimeDeadMod Int
  rPercentTimeDeadModPerLevel Int
  rFlatGoldPer10Mod Int
  rFlatMagicPenetrationMod Int
  rFlatMagicPenetrationModPerLevel Int
  rPercentMagicPenetrationMod Int
  rPercentMagicPenetrationModPerLevel Int
  flatEnergyRegenMod Int
  rFlatEnergyRegenModPerLevel Int
  flatEnergyPoolMod Int
  rFlatEnergyModPerLevel Int
  percentLifeStealMod Int
  percentSpellVampMod Int
}

model Rune {
  version String
  runeId Int @default(autoincrement()) @id
  key String
  icon String
  name String
  shortDesc String
  longDesc String
}

model SummonerSpell {
    version String
    key Int @default(autoincrement()) @id
    summonerSpellId String
    name String
    description String
    tooltip String
    maxRank Int
    cooldown Int
    cooldownBurn String
    cost Int
    costBurn String
    costType String
    summonerLevel Int
    maxAmmo String
    range Int
    rangeBurn String
    imageFull String
    imageSprite String
    imageGroup String
    imageX Int
    imageY Int
    imageW Int
    imageH Int
    resource String
}

model Summoner {
  accountId     String @default("")
  allyId        String @default("") @unique
  allyName      String @default("") @unique
  id            Int    @default(autoincrement()) @id
  profileIconId Int    @default(0)
  puuid         String @default("")
  server        String @default("")
  summonerId    String @default("")
  summonerLevel Int    @default(0)
  summonerName  String @default("")
  user          User?
}

model User {
  email    String     @default("") @unique
  isAdmin  Boolean    @default(false)
  password String     @default("")
  userId   Int        @default(autoincrement()) @id
  username String?    @unique
  summoners Summoner[]
}

model Match {
  id Int @default(autoincrement()) @id
  gameId Int @unique
  server String
  queueId Int
  seasonId Int
  mapId Int
  gameMode String
  gameType String
  gameVersion String
  gameDuration Int
  timestamp DateTime
  dateModified DateTime @updatedAt
  dateCreated DateTime @default(now())
}

model Team {
  id Int @default(autoincrement()) @id
  match Match?
  win Boolean
  teamId Int
  bans Champion[]
  firstDragon Boolean
  firstInhibitor Boolean
  firstRiftHerald Boolean
  firstBaron Boolean
  baronKills Int
  riftHeraldKills Int
  firstBlood Boolean
  firstTower Boolean
  inhibitorKills Int
  towerKills Int
  dragonKills Int
  dominionVictoryScore Int
  vilemawKills Int
  dateModified DateTime @updatedAt
  dateCreated DateTime @default(now())
}

model Participant {
  id Int @default(autoincrement()) @id
  match Match
  summoner Summoner
  platformId String
  matchHistoryUri String
  participantId Int
  team Team
  position String
  champion Champion
  spell1Id Int
  spell2Id Int
  neutralMinionsKilledTeamJungle Int @default(0)
  visionScore Int @default(0)
  magicDamageDealtToChampions Int @default(0)
  largestMultiKill Int @default(0)
  totalTimeCrowdControlDealt Int @default(0)
  longestTimeSpentLiving Int @default(0)
  perk1Var1 Int @default(0)
  perk1Var3 Int @default(0)
  perk1Var2 Int @default(0)
  tripleKills Int @default(0)
  perk5 Int
  perk4 Int
  playerScore9 Int @default(0)
  playerScore8 Int @default(0)
  kills Int @default(0)
  playerScore1 Int @default(0)
  playerScore0 Int @default(0)
  playerScore3 Int @default(0)
  playerScore2 Int @default(0)
  playerScore5 Int @default(0)
  playerScore4 Int @default(0)
  playerScore7 Int @default(0)
  playerScore6 Int @default(0)
  perk5Var1 Int @default(0)
  perk5Var3 Int @default(0)
  perk5Var2 Int @default(0)
  totalScoreRank Int @default(0)
  neutralMinionsKilled Int @default(0)
  statPerk1 Int @default(0)
  statPerk0 Int @default(0)
  damageDealtToTurrets Int @default(0)
  physicalDamageDealtToChampions Int @default(0)
  damageDealtToObjectives Int @default(0)
  perk2Var2 Int @default(0)
  perk2Var3 Int @default(0)
  totalUnitsHealed Int @default(0)
  perk2Var1 Int @default(0)
  perk4Var1 Int @default(0)
  totalDamageTaken Int @default(0)
  perk4Var3 Int @default(0)
  wardsKilled Int @default(0)
  largestCriticalStrike Int @default(0)
  largestKillingSpree Int @default(0)
  quadraKills Int @default(0)
  magicDamageDealt Int @default(0)
  firstBloodAssist Boolean @default(false)
  item2 Int
  item3 Int
  item0 Int
  item1 Int
  item6 Int
  item4 Int
  item5 Int
  perk1 Int
  perk0 Int
  perk3 Int
  perk2 Int
  perk3Var3 Int @default(0)
  perk3Var2 Int @default(0)
  perk3Var1 Int @default(0)
  damageSelfMitigated Int @default(0)
  magicalDamageTaken Int @default(0)
  perk0Var2 Int @default(0)
  firstInhibitorKill Boolean @default(false)
  trueDamageTaken Int @default(0)
  assists Int @default(0)
  perk4Var2 Int @default(0)
  goldSpent Int @default(0)
  trueDamageDealt Int @default(0)
  physicalDamageDealt Int @default(0)
  sightWardsBoughtInGame Int @default(0)
  totalDamageDealtToChampions Int @default(0)
  physicalDamageTaken Int @default(0)
  totalPlayerScore Int @default(0)
  win Boolean
  objectivePlayerScore Int @default(0)
  totalDamageDealt Int @default(0)
  neutralMinionsKilledEnemyJungle Int @default(0)
  deaths Int @default(0)
  wardsPlaced Int @default(0)
  perkPrimaryStyle Int @default(0)
  perkSubStyle Int @default(0)
  turretKills Int @default(0)
  firstBloodKill Boolean @default(false)
  trueDamageDealtToChampions Int @default(0)
  goldEarned Int @default(0)
  killingSprees Int @default(0)
  unrealKills Int @default(0)
  firstTowerAssist Boolean @default(false)
  firstTowerKill Boolean @default(false)
  champLevel Int @default(0)
  doubleKills Int @default(0)
  inhibitorKills Int @default(0)
  firstInhibitorAssist Boolean @default(false)
  perk0Var1 Int @default(0)
  combatPlayerScore Int @default(0)
  perk0Var3 Int @default(0)
  visionWardsBoughtInGame Int @default(0)
  pentaKills Int @default(0)
  totalHeal Int @default(0)
  totalMinionsKilled Int @default(0)
  timeCCingOthers Int @default(0)
  statPerk2 Int @default(0)
  cs10Deltas Int[]
  skillOrder String[]
  dateModified DateTime @updatedAt
  dateCreated DateTime @default(now())
}

model ParticipantFrame {
  id Int @default(autoincrement()) @id
  match Match
  participant_id Int
  total_gold Int @default(0)
  level Int @default(0)
  current_gold Int @default(0)
  minions_killed Int @default(0)
  position_x Int @default(0)
  position_y Int @default(0)
  xp Int @default(0)
  jungle_minions_killed Int @default(0)
  timestamp Int @default(0)
}

model MatchEvent {
  id Int @default(autoincrement()) @id
  match Match
  timestamp Int
  type String
  participantId Int
  teamId Int
  itemId Int
  victimId Int
  creatorId Int
  killerId Int
  assistingParticipantIds Int[]
  levelUpType String
  wardType String
  buildingType String
  monsterType String
  monsterSubType String
  towerType String
  laneType String
  skillSlot Int
  positionX Int
  positionY Int
}