# Migration `20200305151553-summoner-composite-unique-restraint`

This migration has been generated by Mitchell Romney at 3/5/2020, 3:15:53 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."_BuildComponents" DROP CONSTRAINT IF EXiSTS "_BuildComponents_A_fkey",
DROP CONSTRAINT IF EXiSTS "_BuildComponents_B_fkey";

CREATE UNIQUE INDEX "Summoner.server_summonerName" ON "public"."Summoner"("server","summonerName")

ALTER TABLE "public"."_BuildComponents" ADD FOREIGN KEY ("A")REFERENCES "public"."Item"("itemId") ON DELETE RESTRICT  ON UPDATE CASCADE

ALTER TABLE "public"."_BuildComponents" ADD FOREIGN KEY ("B")REFERENCES "public"."Item"("itemId") ON DELETE RESTRICT  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200304191600-static-league-data..20200305151553-summoner-composite-unique-restraint
--- datamodel.dml
+++ datamodel.dml
@@ -3,203 +3,412 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgresql://mitchellromney:mitchellromney@localhost:5432/ally-backend"
 }
 model Champion {
-  id Int @default(autoincrement()) @id
-  version String
-  champId String
-  name String
-  key String
-  title String
-  blurb String
-  infoAttack Int
-  infoDefense Int
-  infoMagic Int
-  infoDifficulty Int
-  imageFull String
-  imageSprite String
-  imageGroup String
-  imageX Int
-  imageY Int
-  imageW Int
-  imageH Int
-  tags String
-  partype String
-  statsHP Float
-  statsHPPerLevel Float
-  statsMP Float
-  statsMPPerLevel Float
-  statsMoveSpeed Float
-  statsArmor Float
-  statsArmorPerLevel Float
-  statsSpellBlock Float
-  statsSpellBlockPerLevel Float
-  statsAttackRange Float
-  statsHPRegen Float
-  statsHPRegenPerLevel Float
-  statsMPRegen Float
-  statsMPRegenPerLevel Float
-  statsCrit Float
-  statsCritPerLevel Float
-  statsAttackDamage Float
-  statsAttackDamagePerLevel Float
-  statsAttackSpeed Float
-  statsAttackSpeedPerLevel Float
-  dateModified DateTime @updatedAt
-  dateCreated DateTime @default(now())
+  blurb                     String        @default("")
+  champId                   String        @default("")
+  dateCreated               DateTime
+  dateModified              DateTime
+  id                        Int           @default(autoincrement()) @id
+  imageFull                 String        @default("")
+  imageGroup                String        @default("")
+  imageH                    Int           @default(0)
+  imageSprite               String        @default("")
+  imageW                    Int           @default(0)
+  imageX                    Int           @default(0)
+  imageY                    Int           @default(0)
+  infoAttack                Int           @default(0)
+  infoDefense               Int           @default(0)
+  infoDifficulty            Int           @default(0)
+  infoMagic                 Int           @default(0)
+  key                       String        @default("")
+  name                      String        @default("")
+  partype                   String        @default("")
+  statsArmor                Float         @default(0)
+  statsArmorPerLevel        Float         @default(0)
+  statsAttackDamage         Float         @default(0)
+  statsAttackDamagePerLevel Float         @default(0)
+  statsAttackRange          Float         @default(0)
+  statsAttackSpeed          Float         @default(0)
+  statsAttackSpeedPerLevel  Float         @default(0)
+  statsCrit                 Float         @default(0)
+  statsCritPerLevel         Float         @default(0)
+  statsHP                   Float         @default(0)
+  statsHPPerLevel           Float         @default(0)
+  statsHPRegen              Float         @default(0)
+  statsHPRegenPerLevel      Float         @default(0)
+  statsMP                   Float         @default(0)
+  statsMPPerLevel           Float         @default(0)
+  statsMPRegen              Float         @default(0)
+  statsMPRegenPerLevel      Float         @default(0)
+  statsMoveSpeed            Float         @default(0)
+  statsSpellBlock           Float         @default(0)
+  statsSpellBlockPerLevel   Float         @default(0)
+  tags                      String        @default("")
+  title                     String        @default("")
+  version                   String        @default("")
+  team                      Team?
+  participant               Participant[]
 }
 model Item {
-  version String
-  itemId Int @default(autoincrement()) @id
-  name String
-  description String
-  colloq String
-  plaintext String
-  builtInto Item[] @relation(name: "BuildComponents")
-  builtFrom Item[] @relation(name: "BuildComponents")
-  consumed Boolean
-  stacks Int
-  depth Int
-  consumeOnFull Boolean
-  specialRecipe Int
-  inStore Boolean
-  hideFromAll Boolean
-  requiredChampion String
-  requiredAlly String
-  imageFull String
-  imageSprite String
-  imageGroup String
-  imageX Int
-  imageY Int
-  imageW Int
-  imageH Int
-  goldBase Int
-  goldPurchasable Boolean
-  goldTotal Int
-  goldSell Int
-  flatHPPoolMod Int
-  rFlatHPModPerLevel Int
-  flatMPPoolMod Int
-  rFlatMPModPerLevel Int
-  percentHPPoolMod Int
-  percentMPPoolMod Int
-  flatHPRegenMod Int
-  rFlatHPRegenModPerLevel Int
-  percentHPRegenMod Int
-  flatMPRegenMod Int
-  rFlatMPRegenModPerLevel Int
-  percentMPRegenMod Int
-  flatArmorMod Int
-  rFlatArmorModPerLevel Int
-  percentArmorMod Int
-  rFlatArmorPenetrationMod Int
-  rFlatArmorPenetrationModPerLevel Int
-  rPercentArmorPenetrationMod Int
-  rPercentArmorPenetrationModPerLevel Int
-  flatPhysicalDamageMod Int
-  rFlatPhysicalDamageModPerLevel Int
-  percentPhysicalDamageMod Int
-  flatMagicDamageMod Int
-  rFlatMagicDamageModPerLevel Int
-  percentMagicDamageMod Int
-  flatMovementSpeedMod Int
-  rFlatMovementSpeedModPerLevel Int
-  percentMovementSpeedMod Int
-  rPercentMovementSpeedModPerLevel Int
-  flatAttackSpeedMod Int
-  percentAttackSpeedMod Int
-  rPercentAttackSpeedModPerLevel Int
-  rFlatDodgeMod Int
-  rFlatDodgeModPerLevel Int
-  percentDodgeMod Int
-  flatCritChanceMod Int
-  rFlatCritChanceModPerLevel Int
-  percentCritChanceMod Int
-  flatCritDamageMod Int
-  rFlatCritDamageModPerLevel Int
-  percentCritDamageMod Int
-  flatBlockMod Int
-  percentBlockMod Int
-  flatSpellBlockMod Int
-  rFlatSpellBlockModPerLevel Int
-  percentSpellBlockMod Int
-  flatExpBonus Int
-  percentExpBonus Int
-  rPercentCooldownMod Int
-  rPercentCooldownModPerLevel Int
-  rFlatTimeDeadMod Int
-  rFlatTimeDeadModPerLevel Int
-  rPercentTimeDeadMod Int
-  rPercentTimeDeadModPerLevel Int
-  rFlatGoldPer10Mod Int
-  rFlatMagicPenetrationMod Int
-  rFlatMagicPenetrationModPerLevel Int
-  rPercentMagicPenetrationMod Int
-  rPercentMagicPenetrationModPerLevel Int
-  flatEnergyRegenMod Int
-  rFlatEnergyRegenModPerLevel Int
-  flatEnergyPoolMod Int
-  rFlatEnergyModPerLevel Int
-  percentLifeStealMod Int
-  percentSpellVampMod Int
+  colloq                                   String            @default("")
+  consumeOnFull                            Boolean           @default(false)
+  consumed                                 Boolean           @default(false)
+  depth                                    Int               @default(0)
+  description                              String            @default("")
+  flatArmorMod                             Int               @default(0)
+  flatAttackSpeedMod                       Int               @default(0)
+  flatBlockMod                             Int               @default(0)
+  flatCritChanceMod                        Int               @default(0)
+  flatCritDamageMod                        Int               @default(0)
+  flatEnergyPoolMod                        Int               @default(0)
+  flatEnergyRegenMod                       Int               @default(0)
+  flatExpBonus                             Int               @default(0)
+  flatHPPoolMod                            Int               @default(0)
+  flatHPRegenMod                           Int               @default(0)
+  flatMPPoolMod                            Int               @default(0)
+  flatMPRegenMod                           Int               @default(0)
+  flatMagicDamageMod                       Int               @default(0)
+  flatMovementSpeedMod                     Int               @default(0)
+  flatPhysicalDamageMod                    Int               @default(0)
+  flatSpellBlockMod                        Int               @default(0)
+  goldBase                                 Int               @default(0)
+  goldPurchasable                          Boolean           @default(false)
+  goldSell                                 Int               @default(0)
+  goldTotal                                Int               @default(0)
+  hideFromAll                              Boolean           @default(false)
+  imageFull                                String            @default("")
+  imageGroup                               String            @default("")
+  imageH                                   Int               @default(0)
+  imageSprite                              String            @default("")
+  imageW                                   Int               @default(0)
+  imageX                                   Int               @default(0)
+  imageY                                   Int               @default(0)
+  inStore                                  Boolean           @default(false)
+  itemId                                   Int               @default(autoincrement()) @id
+  name                                     String            @default("")
+  percentArmorMod                          Int               @default(0)
+  percentAttackSpeedMod                    Int               @default(0)
+  percentBlockMod                          Int               @default(0)
+  percentCritChanceMod                     Int               @default(0)
+  percentCritDamageMod                     Int               @default(0)
+  percentDodgeMod                          Int               @default(0)
+  percentExpBonus                          Int               @default(0)
+  percentHPPoolMod                         Int               @default(0)
+  percentHPRegenMod                        Int               @default(0)
+  percentLifeStealMod                      Int               @default(0)
+  percentMPPoolMod                         Int               @default(0)
+  percentMPRegenMod                        Int               @default(0)
+  percentMagicDamageMod                    Int               @default(0)
+  percentMovementSpeedMod                  Int               @default(0)
+  percentPhysicalDamageMod                 Int               @default(0)
+  percentSpellBlockMod                     Int               @default(0)
+  percentSpellVampMod                      Int               @default(0)
+  plaintext                                String            @default("")
+  rFlatArmorModPerLevel                    Int               @default(0)
+  rFlatArmorPenetrationMod                 Int               @default(0)
+  rFlatArmorPenetrationModPerLevel         Int               @default(0)
+  rFlatCritChanceModPerLevel               Int               @default(0)
+  rFlatCritDamageModPerLevel               Int               @default(0)
+  rFlatDodgeMod                            Int               @default(0)
+  rFlatDodgeModPerLevel                    Int               @default(0)
+  rFlatEnergyModPerLevel                   Int               @default(0)
+  rFlatEnergyRegenModPerLevel              Int               @default(0)
+  rFlatGoldPer10Mod                        Int               @default(0)
+  rFlatHPModPerLevel                       Int               @default(0)
+  rFlatHPRegenModPerLevel                  Int               @default(0)
+  rFlatMPModPerLevel                       Int               @default(0)
+  rFlatMPRegenModPerLevel                  Int               @default(0)
+  rFlatMagicDamageModPerLevel              Int               @default(0)
+  rFlatMagicPenetrationMod                 Int               @default(0)
+  rFlatMagicPenetrationModPerLevel         Int               @default(0)
+  rFlatMovementSpeedModPerLevel            Int               @default(0)
+  rFlatPhysicalDamageModPerLevel           Int               @default(0)
+  rFlatSpellBlockModPerLevel               Int               @default(0)
+  rFlatTimeDeadMod                         Int               @default(0)
+  rFlatTimeDeadModPerLevel                 Int               @default(0)
+  rPercentArmorPenetrationMod              Int               @default(0)
+  rPercentArmorPenetrationModPerLevel      Int               @default(0)
+  rPercentAttackSpeedModPerLevel           Int               @default(0)
+  rPercentCooldownMod                      Int               @default(0)
+  rPercentCooldownModPerLevel              Int               @default(0)
+  rPercentMagicPenetrationMod              Int               @default(0)
+  rPercentMagicPenetrationModPerLevel      Int               @default(0)
+  rPercentMovementSpeedModPerLevel         Int               @default(0)
+  rPercentTimeDeadMod                      Int               @default(0)
+  rPercentTimeDeadModPerLevel              Int               @default(0)
+  requiredAlly                             String            @default("")
+  requiredChampion                         String            @default("")
+  specialRecipe                            Int               @default(0)
+  stacks                                   Int               @default(0)
+  version                                  String            @default("")
+  BuildComponents_ItemTo_BuildComponents_A BuildComponents[] @relation("ItemTo_BuildComponents_A")
+  BuildComponents_ItemTo_BuildComponents_B BuildComponents[] @relation("ItemTo_BuildComponents_B")
 }
-model Rune {
-  version String
-  runeId Int @default(autoincrement()) @id
-  key String
-  icon String
-  name String
-  shortDesc String
-  longDesc String
+model Match {
+  dateCreated      DateTime
+  dateModified     DateTime
+  gameDuration     Int                @default(0)
+  gameId           Int                @default(0) @unique
+  gameMode         String             @default("")
+  gameType         String             @default("")
+  gameVersion      String             @default("")
+  id               Int                @default(autoincrement()) @id
+  mapId            Int                @default(0)
+  queueId          Int                @default(0)
+  seasonId         Int                @default(0)
+  server           String             @default("")
+  timestamp        DateTime
+  matchEvent       MatchEvent[]
+  participant      Participant[]
+  participantFrame ParticipantFrame[]
+  team             Team[]
 }
-model SummonerSpell {
-    version String
-    key Int @default(autoincrement()) @id
-    summonerSpellId String
-    name String
-    description String
-    tooltip String
-    maxRank Int
-    cooldown Int
-    cooldownBurn String
-    cost Int
-    costBurn String
-    costType String
-    summonerLevel Int
-    maxAmmo String
-    range Int
-    rangeBurn String
-    imageFull String
-    imageSprite String
-    imageGroup String
-    imageX Int
-    imageY Int
-    imageW Int
-    imageH Int
-    resource String
+model MatchEvent {
+  assistingParticipantIds Int[]
+  buildingType            String @default("")
+  creatorId               Int    @default(0)
+  id                      Int    @default(autoincrement()) @id
+  itemId                  Int    @default(0)
+  killerId                Int    @default(0)
+  laneType                String @default("")
+  levelUpType             String @default("")
+  monsterSubType          String @default("")
+  monsterType             String @default("")
+  participantId           Int    @default(0)
+  positionX               Int    @default(0)
+  positionY               Int    @default(0)
+  skillSlot               Int    @default(0)
+  teamId                  Int    @default(0)
+  timestamp               Int    @default(0)
+  towerType               String @default("")
+  type                    String @default("")
+  victimId                Int    @default(0)
+  wardType                String @default("")
+  match                   Match
 }
+model Participant {
+  assists                         Int      @default(0)
+  champLevel                      Int      @default(0)
+  combatPlayerScore               Int      @default(0)
+  cs10Deltas                      Int[]
+  damageDealtToObjectives         Int      @default(0)
+  damageDealtToTurrets            Int      @default(0)
+  damageSelfMitigated             Int      @default(0)
+  dateCreated                     DateTime
+  dateModified                    DateTime
+  deaths                          Int      @default(0)
+  doubleKills                     Int      @default(0)
+  firstBloodAssist                Boolean  @default(false)
+  firstBloodKill                  Boolean  @default(false)
+  firstInhibitorAssist            Boolean  @default(false)
+  firstInhibitorKill              Boolean  @default(false)
+  firstTowerAssist                Boolean  @default(false)
+  firstTowerKill                  Boolean  @default(false)
+  goldEarned                      Int      @default(0)
+  goldSpent                       Int      @default(0)
+  id                              Int      @default(autoincrement()) @id
+  inhibitorKills                  Int      @default(0)
+  item0                           Int      @default(0)
+  item1                           Int      @default(0)
+  item2                           Int      @default(0)
+  item3                           Int      @default(0)
+  item4                           Int      @default(0)
+  item5                           Int      @default(0)
+  item6                           Int      @default(0)
+  killingSprees                   Int      @default(0)
+  kills                           Int      @default(0)
+  largestCriticalStrike           Int      @default(0)
+  largestKillingSpree             Int      @default(0)
+  largestMultiKill                Int      @default(0)
+  longestTimeSpentLiving          Int      @default(0)
+  magicDamageDealt                Int      @default(0)
+  magicDamageDealtToChampions     Int      @default(0)
+  magicalDamageTaken              Int      @default(0)
+  matchHistoryUri                 String   @default("")
+  neutralMinionsKilled            Int      @default(0)
+  neutralMinionsKilledEnemyJungle Int      @default(0)
+  neutralMinionsKilledTeamJungle  Int      @default(0)
+  objectivePlayerScore            Int      @default(0)
+  participantId                   Int      @default(0)
+  pentaKills                      Int      @default(0)
+  perk0                           Int      @default(0)
+  perk0Var1                       Int      @default(0)
+  perk0Var2                       Int      @default(0)
+  perk0Var3                       Int      @default(0)
+  perk1                           Int      @default(0)
+  perk1Var1                       Int      @default(0)
+  perk1Var2                       Int      @default(0)
+  perk1Var3                       Int      @default(0)
+  perk2                           Int      @default(0)
+  perk2Var1                       Int      @default(0)
+  perk2Var2                       Int      @default(0)
+  perk2Var3                       Int      @default(0)
+  perk3                           Int      @default(0)
+  perk3Var1                       Int      @default(0)
+  perk3Var2                       Int      @default(0)
+  perk3Var3                       Int      @default(0)
+  perk4                           Int      @default(0)
+  perk4Var1                       Int      @default(0)
+  perk4Var2                       Int      @default(0)
+  perk4Var3                       Int      @default(0)
+  perk5                           Int      @default(0)
+  perk5Var1                       Int      @default(0)
+  perk5Var2                       Int      @default(0)
+  perk5Var3                       Int      @default(0)
+  perkPrimaryStyle                Int      @default(0)
+  perkSubStyle                    Int      @default(0)
+  physicalDamageDealt             Int      @default(0)
+  physicalDamageDealtToChampions  Int      @default(0)
+  physicalDamageTaken             Int      @default(0)
+  platformId                      String   @default("")
+  playerScore0                    Int      @default(0)
+  playerScore1                    Int      @default(0)
+  playerScore2                    Int      @default(0)
+  playerScore3                    Int      @default(0)
+  playerScore4                    Int      @default(0)
+  playerScore5                    Int      @default(0)
+  playerScore6                    Int      @default(0)
+  playerScore7                    Int      @default(0)
+  playerScore8                    Int      @default(0)
+  playerScore9                    Int      @default(0)
+  position                        String   @default("")
+  quadraKills                     Int      @default(0)
+  sightWardsBoughtInGame          Int      @default(0)
+  skillOrder                      String[]
+  spell1Id                        Int      @default(0)
+  spell2Id                        Int      @default(0)
+  statPerk0                       Int      @default(0)
+  statPerk1                       Int      @default(0)
+  statPerk2                       Int      @default(0)
+  timeCCingOthers                 Int      @default(0)
+  totalDamageDealt                Int      @default(0)
+  totalDamageDealtToChampions     Int      @default(0)
+  totalDamageTaken                Int      @default(0)
+  totalHeal                       Int      @default(0)
+  totalMinionsKilled              Int      @default(0)
+  totalPlayerScore                Int      @default(0)
+  totalScoreRank                  Int      @default(0)
+  totalTimeCrowdControlDealt      Int      @default(0)
+  totalUnitsHealed                Int      @default(0)
+  tripleKills                     Int      @default(0)
+  trueDamageDealt                 Int      @default(0)
+  trueDamageDealtToChampions      Int      @default(0)
+  trueDamageTaken                 Int      @default(0)
+  turretKills                     Int      @default(0)
+  unrealKills                     Int      @default(0)
+  visionScore                     Int      @default(0)
+  visionWardsBoughtInGame         Int      @default(0)
+  wardsKilled                     Int      @default(0)
+  wardsPlaced                     Int      @default(0)
+  win                             Boolean  @default(false)
+  champion                        Champion
+  match                           Match
+  summoner                        Summoner
+  team                            Team
+}
+
+model ParticipantFrame {
+  current_gold          Int   @default(0)
+  id                    Int   @default(autoincrement()) @id
+  jungle_minions_killed Int   @default(0)
+  level                 Int   @default(0)
+  minions_killed        Int   @default(0)
+  participant_id        Int   @default(0)
+  position_x            Int   @default(0)
+  position_y            Int   @default(0)
+  timestamp             Int   @default(0)
+  total_gold            Int   @default(0)
+  xp                    Int   @default(0)
+  match                 Match
+}
+
+model Rune {
+  icon      String @default("")
+  key       String @default("")
+  longDesc  String @default("")
+  name      String @default("")
+  runeId    Int    @default(autoincrement()) @id
+  shortDesc String @default("")
+  version   String @default("")
+}
+
 model Summoner {
-  accountId     String @default("")
-  allyId        String @default("") @unique
-  allyName      String @default("") @unique
-  id            Int    @default(autoincrement()) @id
-  profileIconId Int    @default(0)
-  puuid         String @default("")
-  server        String @default("")
-  summonerId    String @default("")
-  summonerLevel Int    @default(0)
-  summonerName  String @default("")
+  accountId     String        @default("")
+  allyId        String        @default("") @unique
+  allyName      String        @default("") @unique
+  id            Int           @default(autoincrement()) @id
+  profileIconId Int           @default(0)
+  puuid         String        @default("")
+  server        String        @default("")
+  summonerId    String        @default("")
+  summonerLevel Int           @default(0)
+  summonerName  String        @default("")
   user          User?
+  participant   Participant[]
+
+  @@unique([server, summonerName])
 }
+model SummonerSpell {
+  cooldown        Int    @default(0)
+  cooldownBurn    String @default("")
+  cost            Int    @default(0)
+  costBurn        String @default("")
+  costType        String @default("")
+  description     String @default("")
+  imageFull       String @default("")
+  imageGroup      String @default("")
+  imageH          Int    @default(0)
+  imageSprite     String @default("")
+  imageW          Int    @default(0)
+  imageX          Int    @default(0)
+  imageY          Int    @default(0)
+  key             Int    @default(autoincrement()) @id
+  maxAmmo         String @default("")
+  maxRank         Int    @default(0)
+  name            String @default("")
+  range           Int    @default(0)
+  rangeBurn       String @default("")
+  resource        String @default("")
+  summonerLevel   Int    @default(0)
+  summonerSpellId String @default("")
+  tooltip         String @default("")
+  version         String @default("")
+}
+
+model Team {
+  baronKills           Int           @default(0)
+  dateCreated          DateTime
+  dateModified         DateTime
+  dominionVictoryScore Int           @default(0)
+  dragonKills          Int           @default(0)
+  firstBaron           Boolean       @default(false)
+  firstBlood           Boolean       @default(false)
+  firstDragon          Boolean       @default(false)
+  firstInhibitor       Boolean       @default(false)
+  firstRiftHerald      Boolean       @default(false)
+  firstTower           Boolean       @default(false)
+  id                   Int           @default(autoincrement()) @id
+  inhibitorKills       Int           @default(0)
+  riftHeraldKills      Int           @default(0)
+  teamId               Int           @default(0)
+  towerKills           Int           @default(0)
+  vilemawKills         Int           @default(0)
+  win                  Boolean       @default(false)
+  match                Match?
+  champion             Champion[]
+  participant          Participant[]
+}
+
 model User {
   email    String     @default("") @unique
   isAdmin  Boolean    @default(false)
   password String     @default("")
@@ -207,202 +416,11 @@
   username String?    @unique
   summoners Summoner[]
 }
-model Match {
-  id Int @default(autoincrement()) @id
-  gameId Int @unique
-  server String
-  queueId Int
-  seasonId Int
-  mapId Int
-  gameMode String
-  gameType String
-  gameVersion String
-  gameDuration Int
-  timestamp DateTime
-  dateModified DateTime @updatedAt
-  dateCreated DateTime @default(now())
-}
+model BuildComponents {
+  A Item @relation("ItemTo_BuildComponents_A")
+  B Item @relation("ItemTo_BuildComponents_B")
-model Team {
-  id Int @default(autoincrement()) @id
-  match Match?
-  win Boolean
-  teamId Int
-  bans Champion[]
-  firstDragon Boolean
-  firstInhibitor Boolean
-  firstRiftHerald Boolean
-  firstBaron Boolean
-  baronKills Int
-  riftHeraldKills Int
-  firstBlood Boolean
-  firstTower Boolean
-  inhibitorKills Int
-  towerKills Int
-  dragonKills Int
-  dominionVictoryScore Int
-  vilemawKills Int
-  dateModified DateTime @updatedAt
-  dateCreated DateTime @default(now())
-}
-
-model Participant {
-  id Int @default(autoincrement()) @id
-  match Match
-  summoner Summoner
-  platformId String
-  matchHistoryUri String
-  participantId Int
-  team Team
-  position String
-  champion Champion
-  spell1Id Int
-  spell2Id Int
-  neutralMinionsKilledTeamJungle Int @default(0)
-  visionScore Int @default(0)
-  magicDamageDealtToChampions Int @default(0)
-  largestMultiKill Int @default(0)
-  totalTimeCrowdControlDealt Int @default(0)
-  longestTimeSpentLiving Int @default(0)
-  perk1Var1 Int @default(0)
-  perk1Var3 Int @default(0)
-  perk1Var2 Int @default(0)
-  tripleKills Int @default(0)
-  perk5 Int
-  perk4 Int
-  playerScore9 Int @default(0)
-  playerScore8 Int @default(0)
-  kills Int @default(0)
-  playerScore1 Int @default(0)
-  playerScore0 Int @default(0)
-  playerScore3 Int @default(0)
-  playerScore2 Int @default(0)
-  playerScore5 Int @default(0)
-  playerScore4 Int @default(0)
-  playerScore7 Int @default(0)
-  playerScore6 Int @default(0)
-  perk5Var1 Int @default(0)
-  perk5Var3 Int @default(0)
-  perk5Var2 Int @default(0)
-  totalScoreRank Int @default(0)
-  neutralMinionsKilled Int @default(0)
-  statPerk1 Int @default(0)
-  statPerk0 Int @default(0)
-  damageDealtToTurrets Int @default(0)
-  physicalDamageDealtToChampions Int @default(0)
-  damageDealtToObjectives Int @default(0)
-  perk2Var2 Int @default(0)
-  perk2Var3 Int @default(0)
-  totalUnitsHealed Int @default(0)
-  perk2Var1 Int @default(0)
-  perk4Var1 Int @default(0)
-  totalDamageTaken Int @default(0)
-  perk4Var3 Int @default(0)
-  wardsKilled Int @default(0)
-  largestCriticalStrike Int @default(0)
-  largestKillingSpree Int @default(0)
-  quadraKills Int @default(0)
-  magicDamageDealt Int @default(0)
-  firstBloodAssist Boolean @default(false)
-  item2 Int
-  item3 Int
-  item0 Int
-  item1 Int
-  item6 Int
-  item4 Int
-  item5 Int
-  perk1 Int
-  perk0 Int
-  perk3 Int
-  perk2 Int
-  perk3Var3 Int @default(0)
-  perk3Var2 Int @default(0)
-  perk3Var1 Int @default(0)
-  damageSelfMitigated Int @default(0)
-  magicalDamageTaken Int @default(0)
-  perk0Var2 Int @default(0)
-  firstInhibitorKill Boolean @default(false)
-  trueDamageTaken Int @default(0)
-  assists Int @default(0)
-  perk4Var2 Int @default(0)
-  goldSpent Int @default(0)
-  trueDamageDealt Int @default(0)
-  physicalDamageDealt Int @default(0)
-  sightWardsBoughtInGame Int @default(0)
-  totalDamageDealtToChampions Int @default(0)
-  physicalDamageTaken Int @default(0)
-  totalPlayerScore Int @default(0)
-  win Boolean
-  objectivePlayerScore Int @default(0)
-  totalDamageDealt Int @default(0)
-  neutralMinionsKilledEnemyJungle Int @default(0)
-  deaths Int @default(0)
-  wardsPlaced Int @default(0)
-  perkPrimaryStyle Int @default(0)
-  perkSubStyle Int @default(0)
-  turretKills Int @default(0)
-  firstBloodKill Boolean @default(false)
-  trueDamageDealtToChampions Int @default(0)
-  goldEarned Int @default(0)
-  killingSprees Int @default(0)
-  unrealKills Int @default(0)
-  firstTowerAssist Boolean @default(false)
-  firstTowerKill Boolean @default(false)
-  champLevel Int @default(0)
-  doubleKills Int @default(0)
-  inhibitorKills Int @default(0)
-  firstInhibitorAssist Boolean @default(false)
-  perk0Var1 Int @default(0)
-  combatPlayerScore Int @default(0)
-  perk0Var3 Int @default(0)
-  visionWardsBoughtInGame Int @default(0)
-  pentaKills Int @default(0)
-  totalHeal Int @default(0)
-  totalMinionsKilled Int @default(0)
-  timeCCingOthers Int @default(0)
-  statPerk2 Int @default(0)
-  cs10Deltas Int[]
-  skillOrder String[]
-  dateModified DateTime @updatedAt
-  dateCreated DateTime @default(now())
-}
-
-model ParticipantFrame {
-  id Int @default(autoincrement()) @id
-  match Match
-  participant_id Int
-  total_gold Int @default(0)
-  level Int @default(0)
-  current_gold Int @default(0)
-  minions_killed Int @default(0)
-  position_x Int @default(0)
-  position_y Int @default(0)
-  xp Int @default(0)
-  jungle_minions_killed Int @default(0)
-  timestamp Int @default(0)
-}
-
-model MatchEvent {
-  id Int @default(autoincrement()) @id
-  match Match
-  timestamp Int
-  type String
-  participantId Int
-  teamId Int
-  itemId Int
-  victimId Int
-  creatorId Int
-  killerId Int
-  assistingParticipantIds Int[]
-  levelUpType String
-  wardType String
-  buildingType String
-  monsterType String
-  monsterSubType String
-  towerType String
-  laneType String
-  skillSlot Int
-  positionX Int
-  positionY Int
+  @@map("_BuildComponents")
+  @@unique([A, B], name: "_BuildComponents_AB_unique")
 }
```


